{% extends 'minecraft/base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="header">
    <h1>üéÆ Minecraft Servers</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–≥—Ä—ã –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É!</p>
</div>

<div class="server-grid">
    {% for server in servers %}
    <div class="server-card" data-server-id="{{ forloop.counter }}">
        <div class="server-header">
            <div class="server-name">{{ server.name }}</div>
            <span class="status {{ server.status }}">{{ server.status }}</span>
        </div>
        
        <div class="server-info">
            <div class="info-row">
                <span class="info-label">IP –∞–¥—Ä–µ—Å:</span>
                <span class="info-value">{{ server.ip }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">–ü–æ—Ä—Ç:</span>
                <span class="info-value">{{ server.port }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">–í–µ—Ä—Å–∏—è:</span>
                <span class="info-value">{{ server.version }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">–ò–≥—Ä–æ–∫–∏:</span>
                <span class="info-value players-info">{{ server.players }}</span>
            </div>
        </div>

        {% if server.required_mods %}
        <div class="mods-section">
            <h4>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—ã:</h4>
            <ul class="mods-list">
                {% for mod in server.required_mods %}
                <li><a href="{{ mod.1 }}" target="_blank">{{ mod.0 }}</a></li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% if server.optional_mods %}
        <div class="mods-section">
            <h4>–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—ã:</h4>
            <ul class="mods-list">
                {% for mod in server.optional_mods %}
                <li><a href="{{ mod.1 }}" target="_blank">{{ mod.0 }}</a></li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        
        <div class="server-actions">
            <button class="btn btn-primary" onclick="copyServerIP('{{ server.ip }}:{{ server.port }}')">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å IP</button>
        </div>
    </div>
    {% endfor %}
</div>

<script>
function copyServerIP(ip) {
    navigator.clipboard.writeText(ip).then(function() {
        alert('IP –∞–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: ' + ip);
    }).catch(function(err) {
        console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å: ', err);
    });
}

function connectToServer(ip) {
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é
    alert('–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:\n1. –û—Ç–∫—Ä–æ–π—Ç–µ Minecraft\n2. –í—ã–±–µ—Ä–∏—Ç–µ "Multiplayer"\n3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å IP: ' + ip);
}
</script>
{% endblock %}